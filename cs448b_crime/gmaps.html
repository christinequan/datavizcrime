<!doctype html>

<html lang="en">

<head>

  <script src="http://maps.googleapis.com/maps/api/js"></script>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="style.css"/>

</head>


<body>
<!-- Header -->
  <div id= "header" >
        <h1> SF CRIME MAP </h1>
  </div>

<!-- Map  -->

   <script type = text/javascript >

   var map;
   var geocoder; 

  function initialize() {

  geocoder = new google.maps.Geocoder();
  var mapProp = {
    center:new google.maps.LatLng(37.767683, -122.433701),
    zoom:12,
    mapTypeId:google.maps.MapTypeId.ROADMAP,
  }

  map = new google.maps.Map(document.getElementById("map"),mapProp);

  }
  google.maps.event.addDomListener(window, 'load', initialize);


  function codeAddress() {
      var address = document.getElementById("address").value;
      geocoder.geocode( { 'address': address}, function(results, status) {
        if (status == google.maps.GeocoderStatus.OK) {
          map.setCenter(results[0].geometry.location);
          var marker = new google.maps.Marker({
              map: map,
              position: results[0].geometry.location
          });
        } else {
          alert("Geocode was not successful for the following reason: " + status);
        }
      });
    };

</script>

<div id="map"></div>

<!-- Input Form -->
  <div id="inputform">

      <!-- Address Forms -->
      <fieldset>

        <label> Addresses </label><br>

        <form>
       
        <div id = "addressA">
          <label> Home </label><br>
          <input type = "text"
                 id = "address"
                 value = "San Francisco, CA" />
          <input type="button" value="Encode" onclick="codeAddress()">
        </div>

       <div id = >
        <label> Home Radius </label><br>
        1 <input type="range" name="points" min="1" max="10" step = "1" value = "0"> 10
       </p>

      <div id = "addressB">
        <label> Work </label><br>
        <input type = "text"
                id = "address"
                value = "San Francisco, CA" />
        <input type="button" value="Encode" onclick="codeAddress()">
      </div>

      <p>
      <label> Work Radius </label><br>
       1 <input type="range" name="points" min="1" max="10" step = "1" value="0"> 10
      </p>

        </form>

      </fieldset>

    <!-- Crimes Checkboxes -->
    <fieldset>

        <form action="">
        
        <label> Crime </label><br>
        <input type="checkbox" id = crime name="ARSON" value="ARSON">Arson <br>
        <input type="checkbox" id = crime name="BRIBERY" value="BRIBERY">Bribery<br>
        <input type="checkbox" id = crime name="BURGLARY" value="BURGLARY">Burglary <br> 
        <input type="Button" value="Show values" onClick="showVal(this.form)"/> 

        </form>


    </fieldset>

    <input type="Submit" value="Submit" onclick="showInput();"><br />


    <!-- Tests --> 
      <script type="text/javascript">

      function showVal(frm) {
      var arr = [];
      for (var i in frm.crime) {
          if (frm.crime[i].checked) {
              arr.push(frm.crime[i].value);
          }
      }
      alert(arr);
      return arr
     };  

      function showInput() {
          var home =  document.getElementById("home_address").value;
          var work = document.getElementById("work_address").value;

          document.getElementById('display1').innerHTML = home;
          document.getElementById('display2').innerHTML = work;
      };




    </script>

    <label>Your home address: </label>
    <p><span id='display1'></span> </p>

    <label>Your work address: </label>
    <p><span id='display2'></span> </p>

    <label>Crime  address: </label>
    <p><span id='display3'></span> </p>

</body>
</html>