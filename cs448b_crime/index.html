<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">

<!-- Displaying the user's input --> 
    <script language="JavaScript">
    function showInput() {
        var home =  document.getElementById("home_address").value;
        var work = document.getElementById("work_address").value;
        var crime = document.getElementById("crimetype").value;

        document.getElementById('display1').innerHTML = home;
        document.getElementById('display2').innerHTML = work;
        document.getElementById('display3').innerHTML = crime
    }

  </script>
</head>

<body>

    <script src="http://d3js.org/d3.v3.min.js"></script>

    <div id= "header">
        <h1> SF CRIME MAP </h1>
    </div>

    <div id="map">
       
       <script>
            // Set up size
            var width = 750,
                height = width;

            // Add an svg element to the DOM
            var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

            // Set up projection that map is using
            var projection = d3.geo.mercator()
                .center([-122.433701, 37.767683]) // San Francisco, roughly
                .scale(225000)
                .translate([width / 2, height / 2]);
            // This is the mapping between <longitude, latitude> position to <x, y> pixel position on the map
            // projection([lon, lat]) returns [x, y]

            var upper_right = projection.invert([750, 0]);
            var lower_left = projection.invert([0, 750]);
            var dist_px = 750 * Math.sqrt(2);
            var dist_mile = d3.geo.distance(upper_right, lower_left) * 3959;
            var ratio = dist_px/dist_mile

            // Add svg map at correct size, assumes map is saved in a subdirectory called "data"
            svg.append("image")
                  .attr("width", width)
                  .attr("height", height)
                  .attr("xlink:href", "data/sf-map.svg");
        </script>

    </div>

    <div id = "inputform">

     <form>
      <fieldset>

        <legend> Addresses </legend>
       
        <p>
          <label> Home </label><br>
          <input type = "text"
                 id = "home_address"
                 value = "text here" />
       </p>

       <p>
        <label> Home Radius </label><br>
        1 <input type="range" name="points" min="1" max="10" step = "1" value = "0"> 10
       </p>

        <p>
          <label> Work </label><br>
          <input type = "text"
                  id = "work_address"
                  value = "text here" />
        </p>

        <p>
        <label> Work Radius </label><br>
         1 <input type="range" name="points" min="1" max="10" step = "1" value="0"> 10
        </p>

       
        
      </fieldset>
    </form>

    <fieldset>

        <form action="">
        
        <label> Crime </label><br>
        <input type="checkbox" name="ARSON" value="ARSON">Arson <br>
        <input type="checkbox" name="BRIBERY" value="BRIBERY">Bribery<br>
        <input type="checkbox" name="BURGLARY" value="BURGLARY">Burglary <br> 

        </form>


    </fieldset>

    <input type="Submit" value="Submit" onclick="showInput();"><br />

    <label>Your home address: </label>
    <p><span id='display1'></span> </p>

    <label>Your work address: </label>
        <p><span id='display2'></span> </p>

    <label>Crime  address: </label>
        <p><span id='display3'></span> </p>

    </div>

</body>
</html>